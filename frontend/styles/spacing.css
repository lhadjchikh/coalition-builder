/* Modern spacing system for 2025 design */

:root {
  /* Space scale - using modern 8px grid system */
  --space-0: 0;
  --space-1: 0.25rem; /* 4px */
  --space-2: 0.5rem; /* 8px */
  --space-3: 0.75rem; /* 12px */
  --space-4: 1rem; /* 16px */
  --space-5: 1.5rem; /* 24px */
  --space-6: 2rem; /* 32px */
  --space-7: 2.5rem; /* 40px */
  --space-8: 3rem; /* 48px */
  --space-9: 3.5rem; /* 56px */
  --space-10: 4rem; /* 64px */
  --space-11: 5rem; /* 80px */
  --space-12: 6rem; /* 96px */
  --space-14: 8rem; /* 128px */
  --space-16: 10rem; /* 160px */

  /* Fluid spacing for responsive design */
  --space-fluid-sm: clamp(var(--space-4), 3vw, var(--space-6));
  --space-fluid-md: clamp(var(--space-6), 4vw, var(--space-8));
  --space-fluid-lg: clamp(var(--space-8), 5vw, var(--space-10));
  --space-fluid-xl: clamp(var(--space-10), 6vw, var(--space-14));

  /* Section spacing - more compact for better flow */
  --section-padding-y: var(--space-fluid-md);
  --section-gap: var(--space-fluid-md);

  /* Container padding - optimized for very small screens */
  --container-padding-x: var(--space-4); /* 16px for small screens */
  --container-padding-x-sm: var(--space-5); /* 24px for medium screens */
  --container-padding-x-lg: var(--space-8); /* 48px for large screens */

  /* Content spacing */
  --content-gap: var(--space-6);
  --content-gap-lg: var(--space-8);

  /* Card spacing */
  --card-padding: var(--space-6);
  --card-padding-lg: var(--space-8);
  --card-gap: var(--space-5);
  --card-gap-lg: var(--space-6);

  /* Modern border radius */
  --radius-sm: 0.375rem; /* 6px */
  --radius-md: 0.5rem; /* 8px */
  --radius-lg: 0.75rem; /* 12px */
  --radius-xl: 1rem; /* 16px */
  --radius-2xl: 1.5rem; /* 24px */
  --radius-full: 9999px;

  /* Modern shadows for depth */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg:
    0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl:
    0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  --shadow-soft:
    0 2px 15px -3px rgb(0 0 0 / 0.06), 0 10px 20px -2px rgb(0 0 0 / 0.04);
}

/* Utility classes for modern spacing */
.section-spacing {
  padding-top: var(--section-padding-y);
  padding-bottom: var(--section-padding-y);
}

.section-spacing-sm {
  padding-top: var(--space-fluid-md);
  padding-bottom: var(--space-fluid-md);
}

.section-spacing-lg {
  padding-top: calc(var(--section-padding-y) * 1.25);
  padding-bottom: calc(var(--section-padding-y) * 1.25);
}

/* Modern container classes */
.container-padding {
  padding-left: var(--container-padding-x);
  padding-right: var(--container-padding-x);
}

@media (min-width: 640px) {
  .container-padding {
    padding-left: var(--container-padding-x-sm);
    padding-right: var(--container-padding-x-sm);
  }
}

@media (min-width: 1024px) {
  .container-padding {
    padding-left: var(--container-padding-x-lg);
    padding-right: var(--container-padding-x-lg);
  }
}

/* Extra small screens optimization */
@media (max-width: 399px) {
  .container-padding {
    padding-left: var(--space-3); /* 12px for very small screens */
    padding-right: var(--space-3);
  }

  /* Reduce section spacing on very small screens */
  .section-spacing {
    padding-top: var(--space-fluid-md);
    padding-bottom: var(--space-fluid-md);
  }

  /* Optimize typography for very small screens */
  h1 {
    font-size: 1.75rem; /* 28px instead of default 36px+ */
    line-height: 1.2;
  }

  h2 {
    font-size: 1.5rem; /* 24px */
    line-height: 1.3;
  }

  /* Reduce gaps in grid layouts */
  .grid {
    gap: var(--space-3);
  }

  /* Make buttons more touch-friendly */
  button,
  .btn {
    min-height: 44px; /* iOS recommended touch target */
    padding: var(--space-3) var(--space-4);
  }

  /* Navbar optimizations for very small screens */
  nav .container-padding {
    padding-left: var(--space-3); /* 12px */
    padding-right: var(--space-3);
  }
}

/* Stack utilities for vertical rhythm */
.stack > * + * {
  margin-top: var(--stack-space, var(--space-6));
}

.stack-sm > * + * {
  margin-top: var(--space-4);
}

.stack-md > * + * {
  margin-top: var(--space-6);
}

.stack-lg > * + * {
  margin-top: var(--space-8);
}

.stack-xl > * + * {
  margin-top: var(--space-10);
}

/* Flow utilities for consistent spacing */
.flow > * {
  margin-bottom: var(--flow-space, var(--space-6));
}

.flow > *:last-child {
  margin-bottom: 0;
}

/* Modern card styles */
.card-modern {
  background: var(--theme-bg-card, #ffffff);
  border-radius: var(--radius-xl);
  padding: var(--card-padding);
  box-shadow: var(--shadow-soft);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-modern:hover {
  box-shadow: var(--shadow-lg);
  transform: scale(1.02);
}

@media (min-width: 768px) {
  .card-modern {
    padding: var(--card-padding-lg);
  }
}

/* Modern focus states */
.focus-ring {
  --ring-color: var(--theme-primary, #2563eb);
  --ring-offset: 3px;
  position: relative;
}

.focus-ring:focus-visible {
  outline: 2px solid var(--ring-color);
  outline-offset: var(--ring-offset);
  border-radius: var(--radius-md);
}

/* Apply focus ring on keyboard navigation only */
.focus-ring:focus:not(:focus-visible) {
  outline: none;
}

/* Smooth scrolling */
@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}

/* Modern dividers */
.divider {
  height: 1px;
  background: linear-gradient(
    to right,
    transparent,
    var(--theme-border-color, #e5e7eb) 20%,
    var(--theme-border-color, #e5e7eb) 80%,
    transparent
  );
  margin: var(--space-10) 0;
}

/* Responsive text utilities */
.text-balance {
  text-wrap: balance;
}

.text-pretty {
  text-wrap: pretty;
}

/* Content blocks wrapper - manages spacing between blocks */
.content-blocks-wrapper {
  padding-top: calc(var(--section-padding-y) * 2);
  padding-bottom: calc(var(--section-padding-y) * 2);
}

.content-blocks-wrapper > * + * {
  margin-top: calc(var(--section-padding-y) * 2);
}

/* Remove individual section spacing from content blocks when in wrapper */
.content-blocks-wrapper .section-spacing {
  padding-top: 0;
  padding-bottom: 0;
}
