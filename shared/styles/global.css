/* Global styles shared between frontend and SSR apps */

/* Import modern design systems */
@import "./spacing.css";
@import "./typography.css";

/* Ensure navbar has fallback styling and proper contrast */
nav {
  background-color: var(--theme-primary, #2563eb) !important;
  color: white;
}

/* Ensure theme colors have proper defaults */
:root {
  /* Fallback colors in case theme doesn't load */
  --theme-primary: #2563eb;
  --theme-primary-light: #3b82f6;
  --theme-primary-dark: #1d4ed8;
}

/* Modern CSS reset and base styles */
*,
*::before,
*::after {
  box-sizing: border-box;
}

* {
  margin: 0;
}

body {
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
}

img,
picture,
video,
canvas,
svg {
  display: block;
  max-width: 100%;
}

input,
button,
textarea,
select {
  font: inherit;
}

p,
h1,
h2,
h3,
h4,
h5,
h6 {
  overflow-wrap: break-word;
}

/* Basic link styling */
a {
  color: #0070f3;
  text-decoration: none;
}

/* Underline on hover for content links, but not navigation, footer, or buttons */
a:hover:not(nav a):not(footer a):not(.no-underline) {
  text-decoration: underline;
}

/* Ensure nav and footer links never have underlines */
nav a:hover,
footer a:hover {
  text-decoration: none;
}

/* Ensure buttons and elements with no-underline class never have underlines */
a.no-underline,
a.no-underline:hover,
button,
button:hover,
[role="button"],
[role="button"]:hover {
  text-decoration: none !important;
}

/* Global heading styles - use theme fonts */
h1,
h2,
h3 {
  font-family:
    var(--theme-font-heading),
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    sans-serif;
}

/* Typography utilities from theme */
.font-theme-heading {
  font-family: var(--theme-font-heading, inherit);
}

.font-theme-body {
  font-family: var(--theme-font-body, inherit);
}

/* Optimal reading width utilities */
.max-w-reading {
  max-width: 65ch; /* ~65 characters for optimal reading */
}

.max-w-reading-lg {
  max-width: 75ch; /* Slightly wider for larger text */
}

.max-w-prose-container {
  max-width: 65ch;
  margin-left: auto;
  margin-right: auto;
}

/* Modern animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.5s ease-out forwards;
}

.animate-slideIn {
  animation: slideIn 0.5s ease-out forwards;
}

/* Smooth transitions */
* {
  transition:
    color 0.2s ease,
    background-color 0.2s ease,
    border-color 0.2s ease,
    box-shadow 0.2s ease,
    transform 0.2s ease;
}

/* Modern selection styling */
::selection {
  background-color: var(--theme-primary, #2563eb);
  color: white;
}

/* Improved focus states */
*:focus-visible {
  outline: 2px solid var(--theme-primary, #2563eb);
  outline-offset: 2px;
}

/* Modern scrollbar styling */
@supports (scrollbar-width: thin) {
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--theme-primary-light, #3b82f6) transparent;
  }
}

::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--theme-primary-light, #3b82f6);
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--theme-primary, #2563eb);
}
